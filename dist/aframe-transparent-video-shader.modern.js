AFRAME.registerShader("transparent-video",{schema:{src:{type:"map"}},applyWebmShader:function(e){const a=new THREE.VideoTexture(e);a.format=THREE.RGBAFormat,this.material=new THREE.MeshBasicMaterial({map:a,transparent:!0})},applyHEVCShader:function(e){const a=new THREE.VideoTexture(e),r=new THREE.VideoTexture(e);a.format=THREE.RGBAFormat,r.format=THREE.AlphaFormat,this.material=new THREE.ShaderMaterial({vertexShader:"\n        varying vec2 vUv;\n        \n        void main() {\n          vUv = uv;\n          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        }\n      ",fragmentShader:"\n        varying vec2 vUv;\n        uniform sampler2D videoTexture;\n        uniform sampler2D alphaTexture;\n\n        void main() {\n          vec4 videoColor = texture2D(videoTexture, vUv);\n          vec4 alphaColor = texture2D(alphaTexture, vUv);\n\n          gl_FragColor = vec4(videoColor.rgb, alphaColor.a);\n        }\n      ",uniforms:{videoTexture:{type:"t",value:a},alphaTexture:{type:"t",value:r}},transparent:!0})},init:function(e){var a;const r=e.src,t=new URL(r.currentSrc).pathname.split("."),n=null==(a=t[t.length-1])?void 0:a.toLowerCase();e.transparent=!0,"webm"===n?this.applyWebmShader(r):this.applyHEVCShader(r)}});
//# sourceMappingURL=aframe-transparent-video-shader.modern.js.map
